<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Function Refactor</title>
</head>
<body>
<script>
    "use strict";

    // TODO: refactor the following code to abstract repeated functionality into separate functions

    var textLengthCutoff = 4;

    function prepareText(text) {
        return text.trim().toUpperCase();
    }

    function textIsShortCheck(text, cutoff) {
        return text < cutoff;
    }

    function prepareGreatMsg(thing, type) {
        return thing + '! That is a great ' + type + '!';
    }

    function prepareLengthMsg(isShort) {
        return (isShort) ? 'That answer is short!' : 'That answer is not short!';
    }

    function alertMsgs(favMsg, lengthMsg) {
        alert(favMsg);
        alert(lengthMsg);
    }

    function processUserIO(type, textLengthCutoff) {
        var userInput = prepareText(prompt('Please enter your favorite ' + type + '...'));
        alertMsgs(
            prepareGreatMsg(userInput, type),
            prepareLengthMsg(textIsShortCheck(userInput, textLengthCutoff))
        );
    }

    processUserIO('color', textLengthCutoff);
    processUserIO('animal', textLengthCutoff);
    processUserIO('food', textLengthCutoff);

</script>
</body>
</html>